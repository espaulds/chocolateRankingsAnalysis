# Chocolate Bar Ratings Dataset
Exploring Factors that Contibute to Chocolate Bar Ratings

## Introduction
To explore the question of what factors contribute to higher ratings in chocolate bars. Initially, I wanted to know where the best chocolate came from. After finding this dataset, I was further intrigued and wanted to know which company was best to buy from and which percent cocoa in chocolate bars was the best. I even looked at patterns demonstrated by the creator of the dataset to account for potential bias in questioning which year of reviewing had the highest ratings. 

### Questions in my Exploration: 
1. Which country of bean origin produces the best chocolate (best average ratings)? the worst?
2. What cocoa percentage produces the best chocolate (best average ratings)? the worst?
3. Which company manufacturer gets the best average ratings? the lowest?
4. Which year of doing these ratings has the highest average ratings? the lowest?

### Theories:

## Methods

### Dataset Source:
I used a dataset generated by the founder of Manhattan Chocolate Society: Brady Brenlinski. Brady has reviewed 2,500+ chocolate bars since 2006. The Dataset includes each barâ€™s manufacturer, company location, review date, country of bean origin, ingredients, percent cocoa, most memorable characteristics, and its numerical rating. All chcolate bars were rated on a scale 1-4. Brady supplied a copy-paste-able data set open for communal use. 

### Process:
I started my thought-process behind this project by first roughly pseudocoding how I thought my code should be written. I knew that I needed a method to parse through the CSV file and grab information from specific columns (Company (Manufacturer), Cocoa Percent, Review Dates, & Country of Bean Origin) as well as one just to parse through the ratings (Rating) column. I wanted to use ArrayLists so there was room to expand the dataset (or be used in other datasets as well). Thus, I created the methods:
`public static ArrayList<Double> parseCSVRatings(String filename)` - made specifically to parse the ratings column; returns ArrayList of the ratings 
`public static ArrayList<String> parseCSVStrings(String filename, String colName)` - made to parse through a given column (colName); returns ArrayList of that column

Once I figured out those methods, I moved on to helper methods that would help organize my process/my code, as well as break-up my code to make it more traceable, ledgeable, and easiar to debug. Some of these include aptly named methods such as getRidOfDuplicates, which gets rid of duplicate items in an ArrayList, or averageRating, which gets the average rating of each item in an ArrayList. These methods include:
`public static ArrayList<String> getRidOfDuplicates(ArrayList<String> withDuplicates)` - made to take in the ArrayList that was initially parsed through from the parseCSVStrings method and return an ArrayList with no duplicate items (noDuplicates)
`public static ArrayList<Integer> counts(ArrayList<String> withDuplicates)` - made to return a parellel ArrayList to noDuplicates of the counts of how many times a specific item in the original ArrayList was mentioned
`public static ArrayList<Double> totRatings(ArrayList<String> withDuplicates, ArrayList<Double> ratings)` - takes in the orignal ArrayList and the ratings ArrayList (made for parsing the ratings col)


I knew that most of my ArrayLists would have to be parallel in order to make great use of the indexOf attribute that would make finding certain elements within the ArrayLists faster and simpler. Finally, I add extra methods that made certain aspects, such as what the highest and lowest average ratings of the items were, clearer/more visable to the viewer. To test my program, I first stayed local to my code and tested hard-coded data that I wrote into the main method. After I found those tests successful, I created a smaller CSV dataset file that rated yogurt (includng brands, flavour, base, and rating) and tested my code on that smaller scale. Once I knew that my code worked successfully with imported files (by checking the math done by the program), I finally used my official chocolateRatingsDataset.csv and then cleaned up my print statements to make reading my code more legible. 

### Challenges:
I was struck by a lot of challenges while coding for this exploration. One challenge that stands out in particular was that my code read commas within quotes (so within on column) as delimiters and separated an element/token into multiple elements/tokens. This made it so the index for which column was being parsed was correct, however my code was retaining incorrect information reguarding the question asked. This problem was made obvious when I was unable to parse through the ratings (Rating) column within the CSV file due to an NumberFormatException, which should not have occured since Rating is a column of Doubles. Due to this, I decided to look at my CSV file on VSCode and saw that the program was parsing through the header correctly, so the index was correct; however due to commas in String tokens (within quotes), the program read them as delimeters and parsed through the wrong column (which were Strings and not Doubles). To fix this, my teacher, Ms. Zhu, gave me a line of code that the program would read and then know that commas within quotes should not be read as delimeters. 

## Conculsion

### Results:
- Quesiton #1: Which country of bean origin has the greatest average rating? The lowest?
In anwering this question, my code found that Tabago was the country of bean origin that produced the greatest average rating of chocolate bars (3.625), while Bali produced the lowest average rating (2.5).

- Question #2: Which cocoa percentage has the greatest average rating? The lowest?
In anwering this question, my code found that chocolate bars with 50% cocoa produced the higest average ratings (3.75), while chocolate bars with 53% cocoa produced the lowest average rating (2.0).

- Question #3: Which company/manufacturer has the greatest average rating? The lowest?
In anwering this question, my code found the manufacturer of the most highly rated chocolate bars is Tobago Estate (Pralus), which recieved an average rating of 4.0. The manufacturing with the lowest average rating was Cote d' Or (Kraft), which recieved an average rating of 1.0.

- Question #4: Which year of these reviews has the greatest average rating? The lowest?
In anwering this question, my code found that of the years that Brady has been rating chocolate bars, 2017 has the greatest average rating coming in at 3.62, while 2008 has the lowest average rating (3.0).

### Takeaways: 


### Limitations of Research:
A limitation within my research is that when finding the average ratings, my code does not account for the number of times a certain item is stated in the dataset, therefore, I have no idea if the average rating is of multiple bars or just one. This means that if a chocolate bar company only appears once in the dataset and is rated to have chocolate that is 4.0, and another brand appears multiple times and recieves several 4.0 but one 2.0, the former will be output as the having the higest average rating, yet it could be argued that the latter is a better brand to buy from as it has multiple perfectly rated chocolate bars but was brought down by a single badly rated bar. 

### Potential Additional Questions:



`import java.util.*;` //code

![alt text](image.jpg) //image (graph)

### Dataset Source 